webpackJsonp([14],{123:function(t,e,n){!function(n,r){t.exports=e=r()}(0,function(){var t=t||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),r={},i=r.lib={},o=i.Base=function(){return{extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var o=0;o<i;o+=4)e[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,r=[],i=0;i<e;i+=4){var o=function(e){var e=e,n=987654321,r=4294967295;return function(){n=36969*(65535&n)+(n>>16)&r,e=18e3*(65535&e)+(e>>16)&r;var i=(n<<16)+e&r;return i/=4294967296,(i+=.5)*(t.random()>.5?1:-1)}}(4294967296*(n||t.random()));n=987654071*o(),r.push(4294967296*o()|0)}return new s.init(r,e)}}),a=r.enc={},c=a.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new s.init(n,e/2)}},u=a.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new s.init(n,e)}},h=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},f=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,a=4*o,c=i/a;c=e?t.ceil(c):t.max((0|c)-this._minBufferSize,0);var u=c*o,h=t.min(4*u,i);if(u){for(var f=0;f<u;f+=o)this._doProcessBlock(r,f);var d=r.splice(0,u);n.sigBytes-=h}return new s.init(d,h)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),d=(i.Hasher=f.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new d.HMAC.init(t,n).finalize(e)}}}),r.algo={});return r}(Math);return t})},155:function(t,e,n){!function(r,i){t.exports=e=i(n(123))}(0,function(t){return function(e){function n(t,e,n,r,i,o,s){var a=t+(e&n|~e&r)+i+s;return(a<<o|a>>>32-o)+e}function r(t,e,n,r,i,o,s){var a=t+(e&r|n&~r)+i+s;return(a<<o|a>>>32-o)+e}function i(t,e,n,r,i,o,s){var a=t+(e^n^r)+i+s;return(a<<o|a>>>32-o)+e}function o(t,e,n,r,i,o,s){var a=t+(n^(e|~r))+i+s;return(a<<o|a>>>32-o)+e}var s=t,a=s.lib,c=a.WordArray,u=a.Hasher,h=s.algo,f=[];!function(){for(var t=0;t<64;t++)f[t]=4294967296*e.abs(e.sin(t+1))|0}();var d=h.MD5=u.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var s=0;s<16;s++){var a=e+s,c=t[a];t[a]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var u=this._hash.words,h=t[e+0],d=t[e+1],l=t[e+2],p=t[e+3],v=t[e+4],g=t[e+5],m=t[e+6],_=t[e+7],y=t[e+8],w=t[e+9],k=t[e+10],x=t[e+11],C=t[e+12],B=t[e+13],T=t[e+14],b=t[e+15],$=u[0],S=u[1],A=u[2],z=u[3];$=n($,S,A,z,h,7,f[0]),z=n(z,$,S,A,d,12,f[1]),A=n(A,z,$,S,l,17,f[2]),S=n(S,A,z,$,p,22,f[3]),$=n($,S,A,z,v,7,f[4]),z=n(z,$,S,A,g,12,f[5]),A=n(A,z,$,S,m,17,f[6]),S=n(S,A,z,$,_,22,f[7]),$=n($,S,A,z,y,7,f[8]),z=n(z,$,S,A,w,12,f[9]),A=n(A,z,$,S,k,17,f[10]),S=n(S,A,z,$,x,22,f[11]),$=n($,S,A,z,C,7,f[12]),z=n(z,$,S,A,B,12,f[13]),A=n(A,z,$,S,T,17,f[14]),S=n(S,A,z,$,b,22,f[15]),$=r($,S,A,z,d,5,f[16]),z=r(z,$,S,A,m,9,f[17]),A=r(A,z,$,S,x,14,f[18]),S=r(S,A,z,$,h,20,f[19]),$=r($,S,A,z,g,5,f[20]),z=r(z,$,S,A,k,9,f[21]),A=r(A,z,$,S,b,14,f[22]),S=r(S,A,z,$,v,20,f[23]),$=r($,S,A,z,w,5,f[24]),z=r(z,$,S,A,T,9,f[25]),A=r(A,z,$,S,p,14,f[26]),S=r(S,A,z,$,y,20,f[27]),$=r($,S,A,z,B,5,f[28]),z=r(z,$,S,A,l,9,f[29]),A=r(A,z,$,S,_,14,f[30]),S=r(S,A,z,$,C,20,f[31]),$=i($,S,A,z,g,4,f[32]),z=i(z,$,S,A,y,11,f[33]),A=i(A,z,$,S,x,16,f[34]),S=i(S,A,z,$,T,23,f[35]),$=i($,S,A,z,d,4,f[36]),z=i(z,$,S,A,v,11,f[37]),A=i(A,z,$,S,_,16,f[38]),S=i(S,A,z,$,k,23,f[39]),$=i($,S,A,z,B,4,f[40]),z=i(z,$,S,A,h,11,f[41]),A=i(A,z,$,S,p,16,f[42]),S=i(S,A,z,$,m,23,f[43]),$=i($,S,A,z,w,4,f[44]),z=i(z,$,S,A,C,11,f[45]),A=i(A,z,$,S,b,16,f[46]),S=i(S,A,z,$,l,23,f[47]),$=o($,S,A,z,h,6,f[48]),z=o(z,$,S,A,_,10,f[49]),A=o(A,z,$,S,T,15,f[50]),S=o(S,A,z,$,g,21,f[51]),$=o($,S,A,z,C,6,f[52]),z=o(z,$,S,A,p,10,f[53]),A=o(A,z,$,S,k,15,f[54]),S=o(S,A,z,$,d,21,f[55]),$=o($,S,A,z,y,6,f[56]),z=o(z,$,S,A,b,10,f[57]),A=o(A,z,$,S,m,15,f[58]),S=o(S,A,z,$,B,21,f[59]),$=o($,S,A,z,v,6,f[60]),z=o(z,$,S,A,x,10,f[61]),A=o(A,z,$,S,l,15,f[62]),S=o(S,A,z,$,w,21,f[63]),u[0]=u[0]+$|0,u[1]=u[1]+S|0,u[2]=u[2]+A|0,u[3]=u[3]+z|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296),s=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,c=a.words,u=0;u<4;u++){var h=c[u];c[u]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}return a},clone:function(){var t=u.clone.call(this);return t._hash=this._hash.clone(),t}});s.MD5=u._createHelper(d),s.HmacMD5=u._createHmacHelper(d)}(Math),t.MD5})},173:function(t,e,n){!function(r,i){t.exports=e=i(n(123))}(0,function(t){return function(){function e(t,e,n){for(var r=[],o=0,s=0;s<e;s++)if(s%4){var a=n[t.charCodeAt(s-1)]<<s%4*2,c=n[t.charCodeAt(s)]>>>6-s%4*2;r[o>>>2]|=(a|c)<<24-o%4*8,o++}return i.create(r,o)}var n=t,r=n.lib,i=r.WordArray,o=n.enc;o.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=e[o>>>2]>>>24-o%4*8&255,a=e[o+1>>>2]>>>24-(o+1)%4*8&255,c=e[o+2>>>2]>>>24-(o+2)%4*8&255,u=s<<16|a<<8|c,h=0;h<4&&o+.75*h<n;h++)i.push(r.charAt(u>>>6*(3-h)&63));var f=r.charAt(64);if(f)for(;i.length%4;)i.push(f);return i.join("")},parse:function(t){var n=t.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var s=r.charAt(64);if(s){var a=t.indexOf(s);-1!==a&&(n=a)}return e(t,n,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),t.enc.Base64})},174:function(t,e,n){!function(r,i){t.exports=e=i(n(123))}(0,function(t){return t.enc.Utf8})},175:function(t,e,n){!function(r,i,o){t.exports=e=i(n(123),n(155),n(176))}(0,function(t){return t.HmacMD5})},176:function(t,e,n){!function(r,i){t.exports=e=i(n(123))}(0,function(t){!function(){var e=t,n=e.lib,r=n.Base,i=e.enc,o=i.Utf8,s=e.algo;s.HMAC=r.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=o.parse(e));var n=t.blockSize,r=4*n;e.sigBytes>r&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),s=this._iKey=e.clone(),a=i.words,c=s.words,u=0;u<n;u++)a[u]^=1549556828,c[u]^=909522486;i.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})}()})},215:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(155),i=n.n(r),o=n(175),s=n.n(o),a=n(174),c=n.n(a),u=n(173),h=n.n(u);e.default={name:"code",data:function(){return{code:"",codeText:"获取验证码",num:60,errorCode:!1,disabled:!1}},methods:{codeToMD5:function(t){var e=t,n=i()(e),r=s()(n.toString(),sessionStorage.dataToken);return h.a.stringify(c.a.parse(r))},checkTel:function(){var t=this;return/^(1(3|4|5|7|8)[0-9]{1}\d{8})$/.test(this.$parent.telephone)?(this.$parent.telError=!1,!0):(this.$parent.telError=!0,console.log("手机号码错误了"),this.$parent.$refs.telephone.focus(),setTimeout(function(){t.$parent.telError=!1},1500),!1)},checkCode:function(){var t=this;return/^[a-zA-Z0-9]{6}$/.test(this.code)?(this.errorCode=!1,!0):(this.errorCode=!0,setTimeout(function(){t.errorCode=!1},1500),this.$refs.code.focus(),!1)},login:function(){if(!this.checkTel())return"";if(!this.checkCode())return"";if(this.$parent.telError||this.errorCode)return!1;var t={phone:this.$parent.telephone,code:this.codeToMD5(this.code),dataToken:sessionStorage.dataToken};this.$http({url:"passport/codeLogin",method:"GET",params:t}).then(function(t){sessionStorage.token=t.body.data.token,this.passportCheck()},function(t){}).catch(function(t){}).finally(function(){this.getDataToken()})},passportCheck:function(){this.$http({url:"dealerInfo/idCardAuth?token="+sessionStorage.token,method:"GET"}).then(function(t){var e=t.body.data.auth_status;1==e?this.$router.push("/index"):3==e?this.$router.push("/authResult"):this.$router.push("/auth")},function(){})},checkNav:function(){this.$router.push("account")},getCode:function(){return!this.disabled&&(this.checkTel()?void this.$http({url:"message/login",type:"GET",params:{dataToken:sessionStorage.dataToken,phone:this.$parent.telephone}}).then(function(t){this.setCode()},function(t){}).catch(function(t){}).finally(function(){this.getDataToken()}):"")},setCode:function(){var t=this;this.codeText=this.num+"s后重新获取",this.disabled=!0;var e=this;window.timer=window.setInterval(function(){if(e.num--,e.codeText=t.num+"s后重新获取",t.disabled=!0,!t.num)return t.codeText="重新获取",t.num=60,t.disabled=!1,window.clearInterval(window.timer),!1},1e3)},getDataToken:function(){this.$http({url:"passport/key/notApp",method:"GET"}).then(function(t){sessionStorage.dataToken=t.body.data.dataToken}).catch(function(t){console.log(t),console.log("登录失败了")})}},beforeRouteEnter:function(t,e,n){n()},beforeRouteLeave:function(t,e,n){window.clearInterval(window.timer),n()}}},431:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"login-code clearfix"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],ref:"code",attrs:{type:"text",name:"code"},domProps:{value:t.code},on:{click:t.checkCode,input:function(e){e.target.composing||(t.code=e.target.value)}}}),t._v(" "),n("i",{class:{"color-disabled":t.disabled},domProps:{textContent:t._s(t.codeText)},on:{click:t.getCode}}),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.errorCode,expression:"errorCode"}],staticClass:"login-errror",class:{fadeIn:t.errorCode}},[t._v("请输入正确格式的验证码")])]),t._v(" "),n("input",{staticClass:"login-btn",attrs:{type:"text",name:"",value:"登录"},on:{click:t.login}}),t._v(" "),n("p",{staticClass:"login-another",on:{click:t.checkNav}},[n("span",[t._v("账号登录")])])])},staticRenderFns:[]}},76:function(t,e,n){var r=n(0)(n(215),n(431),null,null,null);t.exports=r.exports}});
//# sourceMappingURL=14.7512c5448408c34cf08c.js.map