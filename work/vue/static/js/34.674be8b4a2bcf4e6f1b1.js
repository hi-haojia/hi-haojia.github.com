webpackJsonp([34],{233:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(23),i=s.n(a);t.default={data:function(){return{id:"",dealer_id:"",is_default:"",address:"",name:"",phone:"",created_at:"",deleted_at:"",updated_at:"",showAlert:!1,alertText:null}},components:{alertTip:i.a},methods:{resetIndex:function(){this.$router.push({name:"address"})},fillData:function(){var e=this.$route.params.id,t=sessionStorage.getItem("token"),s={token:t,id:e};this.$http({url:"dealer/detailById",method:"GET",params:s}).then(function(e){this.id=e.body.data.id,this.dealer_id=e.body.data.dealer_id,this.is_default=e.body.data.is_default,this.address=e.body.data.address,this.name=e.body.data.name,this.phone=e.body.data.phone,this.created_at=e.body.data.created_at,this.deleted_at=e.body.data.deleted_at,this.updated_at=e.body.data.updated_at}).catch(function(e){this.showAlert=!0,this.alertText=e.body.msg||"请求失败了"})},saveEdit:function(){if(!this.name)return this.showAlert=!0,this.alertText="请填写收货人",void this.$refs.name.focus();if(!this.phone)return this.showAlert=!0,this.alertText="请填写联系电话",void this.$refs.phone.focus();if(!/^(1(3|4|5|7|8)[0-9]{1}\d{8})$/.test(this.phone))return this.showAlert=!0,this.alertText="手机号码格式不正确",void this.$refs.phone.focus();if(!this.address)return this.showAlert=!0,this.alertText="请填写收货地址",void this.$refs.address.focus();var e=sessionStorage.getItem("token"),t={id:this.id,name:this.name,address:this.address,phone:this.phone,is_default:this.is_default};this.$http.post("dealer/updateById?token="+e,t).then(function(e){if(this.showAlert=!0,this.alertText="保存成功",""!=this.$store.addressFlag){var t=this.$store.state.addressFlag;this.$store.dispatch("ADDRESS_FLAG",""),this.$router.push({name:t})}else this.$router.push({name:"address"})}).catch(function(e){this.showAlert=!0,this.alertText=e.body.msg||"请求失败了"})}},mounted:function(){this.fillData()}}},261:function(e,t,s){t=e.exports=s(58)(!0),t.push([e.i,".address-edit-out{padding:0 .4rem;background-color:#fff}.address-edit-in li{font-size:.4rem;color:#2c2c2c;border-bottom:1px solid #eee}.address-edit-in li:last-child{border-bottom:none}.address-edit-in li span{display:block;float:left;width:2rem;height:1.333rem;line-height:1.333rem}.address-edit-in li input{display:block;margin-left:1.667rem;height:1.333rem;line-height:1.333rem;border:none}.address-save{display:block;margin:1.0667rem auto 0;padding:.36rem 1rem;font-size:.4533rem;color:#fff;text-align:center;border:none;border-radius:.8rem;background-color:#d5aa5c}","",{version:3,sources:["F:/tob-vue/正式/project-taochemao-wap/src/page/profile/children/children/address/children/edit.vue"],names:[],mappings:"AAGA,kBAAkB,gBAAwB,qBAAsB,CAC/D,AAGD,oBAAoB,gBAAgB,cAAc,4BAA6B,CAC9E,AACD,+BAA+B,kBAAmB,CACjD,AACD,yBAAyB,cAAc,WAAW,WAAW,gBAAgB,oBAAqB,CACjG,AACD,0BAA0B,cAAc,qBAAqB,gBAAgB,qBAAqB,WAAY,CAC7G,AACD,cAAc,cAAc,wBAAwB,oBAAgC,mBAAmB,WAAW,kBAAkB,YAAY,oBAAoB,wBAAyB,CAC5L",file:"edit.vue",sourcesContent:["\n.address-edit{\n}\n.address-edit-out{padding:0 .4rem 0 .4rem;background-color:#fff;\n}\n.address-edit-in{\n}\n.address-edit-in li{font-size:.4rem;color:#2c2c2c;border-bottom:1px solid #eee;\n}\n.address-edit-in li:last-child{border-bottom:none;\n}\n.address-edit-in li span{display:block;float:left;width:2rem;height:1.333rem;line-height:1.333rem;\n}\n.address-edit-in li input{display:block;margin-left:1.667rem;height:1.333rem;line-height:1.333rem;border:none;\n}\n.address-save{display:block;margin:1.0667rem auto 0;padding:.36rem 1rem .36rem 1rem;font-size:.4533rem;color:#fff;text-align:center;border:none;border-radius:.8rem;background-color:#d5aa5c;\n}\r\n\r\n"],sourceRoot:""}])},311:function(e,t,s){var a=s(261);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s(59)("d2d27a7a",a,!0)},393:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"rating_page"},[s("header",{staticClass:"user-tit"},[s("i",{staticClass:"white-lt brand-left-cion",on:{click:e.resetIndex}}),e._v(" "),s("strong",{staticClass:"brand-list-title"},[e._v("编辑收货地址")])]),e._v(" "),s("section",{staticClass:"address-edit"},[s("div",{staticClass:"address-edit-out"},[s("ul",{staticClass:"address-edit-in"},[s("li",{staticClass:"clearfix"},[s("span",[e._v("收货人：")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],ref:"name",attrs:{type:"text",name:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),s("li",{staticClass:"clearfix"},[s("span",[e._v("联系电话：")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],ref:"phone",attrs:{type:"text",name:""},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),e._v(" "),s("li",{staticClass:"clearfix"},[s("span",[e._v("收货地址：")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],ref:"address",attrs:{type:"text",name:""},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}})])])]),e._v(" "),s("input",{staticClass:"address-save",attrs:{type:"button",name:"",value:"保存并使用"},on:{click:e.saveEdit}})]),e._v(" "),e.showAlert?s("alert-tip",{attrs:{alertText:e.alertText},on:{closeTip:function(t){e.showAlert=!1}}}):e._e()],1)},staticRenderFns:[]}},94:function(e,t,s){function a(e){s(311)}var i=s(0)(s(233),s(393),a,null,null);e.exports=i.exports}});
//# sourceMappingURL=34.674be8b4a2bcf4e6f1b1.js.map