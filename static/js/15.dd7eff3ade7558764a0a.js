webpackJsonp([15],{123:function(t,n,e){!function(e,r){t.exports=n=r()}(0,function(){var t=t||function(t,n){var e=Object.create||function(){function t(){}return function(n){var e;return t.prototype=n,e=new t,t.prototype=null,e}}(),r={},s=r.lib={},i=s.Base=function(){return{extend:function(t){var n=e(this);return t&&n.mixIn(t),n.hasOwnProperty("init")&&this.init!==n.init||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=s.WordArray=i.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=void 0!=n?n:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var n=this.words,e=t.words,r=this.sigBytes,s=t.sigBytes;if(this.clamp(),r%4)for(var i=0;i<s;i++){var o=e[i>>>2]>>>24-i%4*8&255;n[r+i>>>2]|=o<<24-(r+i)%4*8}else for(var i=0;i<s;i+=4)n[r+i>>>2]=e[i>>>2];return this.sigBytes+=s,this},clamp:function(){var n=this.words,e=this.sigBytes;n[e>>>2]&=4294967295<<32-e%4*8,n.length=t.ceil(e/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(n){for(var e,r=[],s=0;s<n;s+=4){var i=function(n){var n=n,e=987654321,r=4294967295;return function(){e=36969*(65535&e)+(e>>16)&r,n=18e3*(65535&n)+(n>>16)&r;var s=(e<<16)+n&r;return s/=4294967296,(s+=.5)*(t.random()>.5?1:-1)}}(4294967296*(e||t.random()));e=987654071*i(),r.push(4294967296*i()|0)}return new o.init(r,n)}}),a=r.enc={},c=a.Hex={stringify:function(t){for(var n=t.words,e=t.sigBytes,r=[],s=0;s<e;s++){var i=n[s>>>2]>>>24-s%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(t){for(var n=t.length,e=[],r=0;r<n;r+=2)e[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new o.init(e,n/2)}},u=a.Latin1={stringify:function(t){for(var n=t.words,e=t.sigBytes,r=[],s=0;s<e;s++){var i=n[s>>>2]>>>24-s%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(t){for(var n=t.length,e=[],r=0;r<n;r++)e[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new o.init(e,n)}},h=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},f=s.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(n){var e=this._data,r=e.words,s=e.sigBytes,i=this.blockSize,a=4*i,c=s/a;c=n?t.ceil(c):t.max((0|c)-this._minBufferSize,0);var u=c*i,h=t.min(4*u,s);if(u){for(var f=0;f<u;f+=i)this._doProcessBlock(r,f);var l=r.splice(0,u);e.sigBytes-=h}return new o.init(l,h)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),l=(s.Hasher=f.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(n,e){return new t.init(e).finalize(n)}},_createHmacHelper:function(t){return function(n,e){return new l.HMAC.init(t,e).finalize(n)}}}),r.algo={});return r}(Math);return t})},155:function(t,n,e){!function(r,s){t.exports=n=s(e(123))}(0,function(t){return function(n){function e(t,n,e,r,s,i,o){var a=t+(n&e|~n&r)+s+o;return(a<<i|a>>>32-i)+n}function r(t,n,e,r,s,i,o){var a=t+(n&r|e&~r)+s+o;return(a<<i|a>>>32-i)+n}function s(t,n,e,r,s,i,o){var a=t+(n^e^r)+s+o;return(a<<i|a>>>32-i)+n}function i(t,n,e,r,s,i,o){var a=t+(e^(n|~r))+s+o;return(a<<i|a>>>32-i)+n}var o=t,a=o.lib,c=a.WordArray,u=a.Hasher,h=o.algo,f=[];!function(){for(var t=0;t<64;t++)f[t]=4294967296*n.abs(n.sin(t+1))|0}();var l=h.MD5=u.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,n){for(var o=0;o<16;o++){var a=n+o,c=t[a];t[a]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var u=this._hash.words,h=t[n+0],l=t[n+1],p=t[n+2],d=t[n+3],v=t[n+4],g=t[n+5],_=t[n+6],w=t[n+7],y=t[n+8],m=t[n+9],k=t[n+10],x=t[n+11],B=t[n+12],C=t[n+13],P=t[n+14],$=t[n+15],b=u[0],D=u[1],S=u[2],T=u[3];b=e(b,D,S,T,h,7,f[0]),T=e(T,b,D,S,l,12,f[1]),S=e(S,T,b,D,p,17,f[2]),D=e(D,S,T,b,d,22,f[3]),b=e(b,D,S,T,v,7,f[4]),T=e(T,b,D,S,g,12,f[5]),S=e(S,T,b,D,_,17,f[6]),D=e(D,S,T,b,w,22,f[7]),b=e(b,D,S,T,y,7,f[8]),T=e(T,b,D,S,m,12,f[9]),S=e(S,T,b,D,k,17,f[10]),D=e(D,S,T,b,x,22,f[11]),b=e(b,D,S,T,B,7,f[12]),T=e(T,b,D,S,C,12,f[13]),S=e(S,T,b,D,P,17,f[14]),D=e(D,S,T,b,$,22,f[15]),b=r(b,D,S,T,l,5,f[16]),T=r(T,b,D,S,_,9,f[17]),S=r(S,T,b,D,x,14,f[18]),D=r(D,S,T,b,h,20,f[19]),b=r(b,D,S,T,g,5,f[20]),T=r(T,b,D,S,k,9,f[21]),S=r(S,T,b,D,$,14,f[22]),D=r(D,S,T,b,v,20,f[23]),b=r(b,D,S,T,m,5,f[24]),T=r(T,b,D,S,P,9,f[25]),S=r(S,T,b,D,d,14,f[26]),D=r(D,S,T,b,y,20,f[27]),b=r(b,D,S,T,C,5,f[28]),T=r(T,b,D,S,p,9,f[29]),S=r(S,T,b,D,w,14,f[30]),D=r(D,S,T,b,B,20,f[31]),b=s(b,D,S,T,g,4,f[32]),T=s(T,b,D,S,y,11,f[33]),S=s(S,T,b,D,x,16,f[34]),D=s(D,S,T,b,P,23,f[35]),b=s(b,D,S,T,l,4,f[36]),T=s(T,b,D,S,v,11,f[37]),S=s(S,T,b,D,w,16,f[38]),D=s(D,S,T,b,k,23,f[39]),b=s(b,D,S,T,C,4,f[40]),T=s(T,b,D,S,h,11,f[41]),S=s(S,T,b,D,d,16,f[42]),D=s(D,S,T,b,_,23,f[43]),b=s(b,D,S,T,m,4,f[44]),T=s(T,b,D,S,B,11,f[45]),S=s(S,T,b,D,$,16,f[46]),D=s(D,S,T,b,p,23,f[47]),b=i(b,D,S,T,h,6,f[48]),T=i(T,b,D,S,w,10,f[49]),S=i(S,T,b,D,P,15,f[50]),D=i(D,S,T,b,g,21,f[51]),b=i(b,D,S,T,B,6,f[52]),T=i(T,b,D,S,d,10,f[53]),S=i(S,T,b,D,k,15,f[54]),D=i(D,S,T,b,l,21,f[55]),b=i(b,D,S,T,y,6,f[56]),T=i(T,b,D,S,$,10,f[57]),S=i(S,T,b,D,_,15,f[58]),D=i(D,S,T,b,C,21,f[59]),b=i(b,D,S,T,v,6,f[60]),T=i(T,b,D,S,x,10,f[61]),S=i(S,T,b,D,p,15,f[62]),D=i(D,S,T,b,m,21,f[63]),u[0]=u[0]+b|0,u[1]=u[1]+D|0,u[2]=u[2]+S|0,u[3]=u[3]+T|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,s=8*t.sigBytes;e[s>>>5]|=128<<24-s%32;var i=n.floor(r/4294967296),o=r;e[15+(s+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e[14+(s+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(e.length+1),this._process();for(var a=this._hash,c=a.words,u=0;u<4;u++){var h=c[u];c[u]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}return a},clone:function(){var t=u.clone.call(this);return t._hash=this._hash.clone(),t}});o.MD5=u._createHelper(l),o.HmacMD5=u._createHmacHelper(l)}(Math),t.MD5})},173:function(t,n,e){!function(r,s){t.exports=n=s(e(123))}(0,function(t){return function(){function n(t,n,e){for(var r=[],i=0,o=0;o<n;o++)if(o%4){var a=e[t.charCodeAt(o-1)]<<o%4*2,c=e[t.charCodeAt(o)]>>>6-o%4*2;r[i>>>2]|=(a|c)<<24-i%4*8,i++}return s.create(r,i)}var e=t,r=e.lib,s=r.WordArray,i=e.enc;i.Base64={stringify:function(t){var n=t.words,e=t.sigBytes,r=this._map;t.clamp();for(var s=[],i=0;i<e;i+=3)for(var o=n[i>>>2]>>>24-i%4*8&255,a=n[i+1>>>2]>>>24-(i+1)%4*8&255,c=n[i+2>>>2]>>>24-(i+2)%4*8&255,u=o<<16|a<<8|c,h=0;h<4&&i+.75*h<e;h++)s.push(r.charAt(u>>>6*(3-h)&63));var f=r.charAt(64);if(f)for(;s.length%4;)s.push(f);return s.join("")},parse:function(t){var e=t.length,r=this._map,s=this._reverseMap;if(!s){s=this._reverseMap=[];for(var i=0;i<r.length;i++)s[r.charCodeAt(i)]=i}var o=r.charAt(64);if(o){var a=t.indexOf(o);-1!==a&&(e=a)}return n(t,e,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),t.enc.Base64})},174:function(t,n,e){!function(r,s){t.exports=n=s(e(123))}(0,function(t){return t.enc.Utf8})},175:function(t,n,e){!function(r,s,i){t.exports=n=s(e(123),e(155),e(176))}(0,function(t){return t.HmacMD5})},176:function(t,n,e){!function(r,s){t.exports=n=s(e(123))}(0,function(t){!function(){var n=t,e=n.lib,r=e.Base,s=n.enc,i=s.Utf8,o=n.algo;o.HMAC=r.extend({init:function(t,n){t=this._hasher=new t.init,"string"==typeof n&&(n=i.parse(n));var e=t.blockSize,r=4*e;n.sigBytes>r&&(n=t.finalize(n)),n.clamp();for(var s=this._oKey=n.clone(),o=this._iKey=n.clone(),a=s.words,c=o.words,u=0;u<e;u++)a[u]^=1549556828,c[u]^=909522486;s.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var n=this._hasher,e=n.finalize(t);return n.reset(),n.finalize(this._oKey.clone().concat(e))}})}()})},214:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(155),s=e.n(r),i=e(175),o=e.n(i),a=e(174),c=e.n(a),u=e(173),h=e.n(u);n.default={name:"pass",data:function(){return{pass:"",errorPass:!1,showPasswordDialog:!1,errorPasswordCount:0}},mounted:function(){},methods:{passwordToMD5:function(t){var n=t,e=s()(n),r=o()(e.toString(),sessionStorage.dataToken);return h.a.stringify(c.a.parse(r))},checkTel:function(){var t=this;return/^(1(3|4|5|7|8)[0-9]{1}\d{8})$/.test(this.$parent.telephone)?(this.$parent.telError=!1,!0):(this.$parent.telError=!0,setTimeout(function(){t.$parent.telError=!1},1500),this.$parent.$refs.telephone.focus(),!1)},checkPass:function(){var t=this;return/^[a-zA-Z0-9]+$/.test(this.pass)?(this.errorPass=!1,!0):(this.errorPass=!0,setTimeout(function(){t.errorPass=!1},1500),this.$refs.password.focus(),!1)},login:function(){if(!this.checkTel())return"";if(!this.checkPass())return"";var t={dataToken:sessionStorage.dataToken,phone:this.$parent.telephone,password:this.passwordToMD5(this.pass)};this.$http({url:"passport/login",method:"GET",params:t}).then(function(t){sessionStorage.token=t.body.data.token,this.passportCheck()},function(t){if(console.log(t),4011==t.body.code&&this.errorPasswordCount++,this.errorPasswordCount>=3)return this.showPasswordDialog=!0,!1}).catch(function(t){}).finally(function(){this.getDataToken()})},passportCheck:function(){this.$http({url:"dealerInfo/idCardAuth?token="+sessionStorage.token,method:"GET"}).then(function(t){var n=t.body.data.auth_status;1==n?this.$router.push("/index"):3==n?this.$router.push("/authResult"):this.$router.push("/auth")},function(){})},checkNav:function(){this.$router.push("code")},closePasswordDialog:function(){this.showPasswordDialog=!1},getDataToken:function(){this.$http({url:"passport/key/notApp",method:"GET"}).then(function(t){sessionStorage.dataToken=t.body.data.dataToken}).catch(function(t){console.log(t),console.log("登录失败了")})}}}},403:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"login-phone"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.pass,expression:"pass"}],ref:"password",attrs:{type:"password",placeholder:"密码",maxlength:"20"},domProps:{value:t.pass},on:{input:function(n){n.target.composing||(t.pass=n.target.value)}}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.errorPass,expression:"errorPass"}],staticClass:"login-errror",class:{fadeIn:t.errorPass}},[t._v("请输入密码")])]),t._v(" "),e("input",{staticClass:"login-btn",attrs:{type:"button",name:"",value:"登录"},on:{click:t.login}}),t._v(" "),e("p",{staticClass:"login-another",on:{click:t.checkNav}},[e("span",[t._v("验证码登录")])]),t._v(" "),e("section",{directives:[{name:"show",rawName:"v-show",value:t.showPasswordDialog,expression:"showPasswordDialog"}],staticClass:"login-popup"},[e("div",{staticClass:"login-failure"},[t._m(0),t._v(" "),e("p",{staticClass:"login-choose clearfix"},[e("span",{on:{click:t.closePasswordDialog}},[t._v("我再试试")]),t._v(" "),e("span",{staticClass:"active",on:{click:t.checkNav}},[t._v("验证码登录")])])])])])},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"login-failure-in"},[e("p",{staticClass:"login-tip"},[t._v("密码多次输入错误")]),t._v(" "),e("p",{staticClass:"login-by-code"},[t._v("您可以先用验证码登录")]),t._v(" "),e("p",{staticClass:"login-set-password"},[t._v("登录重新设置密码")])])}]}},75:function(t,n,e){var r=e(0)(e(214),e(403),null,null,null);t.exports=r.exports}});
//# sourceMappingURL=15.dd7eff3ade7558764a0a.js.map